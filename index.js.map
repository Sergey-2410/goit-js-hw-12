{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '46125124-f513c5cbcff31d6d16e67daed';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nexport function fetchImages(params) {\n  const urlParams = new URLSearchParams(params);\n  return fetch(`${BASE_URL}?key=${API_KEY}&${urlParams}`)\n    .then(res => {\n      if (!res.ok) {\n        throw new Error('Something went wrong');\n      }\n      return res.json();\n    })\n    .catch(error => {\n      throw new Error(error.message);\n    });\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGallery(data, galleryElement) {\n  const { hits } = data;\n  const markup = hits\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `<li class=\"gallery-item\">\n              <a href=\"${largeImageURL}\" class=\"gallery-link\">\n                  <img src=\"${webformatURL}\" alt=\"${tags}\" class=\"gallery-image\" />\n              </a>\n              <div class=\"info\">\n                  <p class=\"info-item\"><span>Likes</span> ${likes}</p>\n                  <p class=\"info-item\"><span>Views</span> ${views}</p>\n                  <p class=\"info-item\"><span>Comments</span> ${comments}</p>\n                  <p class=\"info-item\"><span>Downloads</span> ${downloads}</p>\n              </div>\n          </li>`\n    )\n    .join('');\n\n  galleryElement.innerHTML = markup;\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nexport function showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n","import './css/styles.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, showError } from './js/render-functions.js';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\nconst input = document.querySelector('.input');\nconst loader = document.querySelector('.loader');\n\nfunction showLoader() {\n  loader.classList.remove('hidden');\n  loader.classList.add('active');\n}\n\nfunction hideLoader() {\n  loader.classList.remove('active');\n  loader.classList.add('hidden');\n}\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const query = input.value.trim();\n  if (query === '') {\n    showError(\n      'Sorry, there are no images matching your search query. Please try again!'\n    );\n    return;\n  }\n\n  const params = {\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  gallery.innerHTML = '';\n  showLoader();\n\n  fetchImages(params)\n    .then(data => {\n      hideLoader();\n      if (data.hits.length === 0) {\n        showError(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n        return;\n      }\n      renderGallery(data, gallery);\n    })\n    .catch(error => {\n      showError('Something went wrong. Please try again later.');\n    });\n\n  form.reset();\n});\n"],"names":["API_KEY","BASE_URL","fetchImages","params","urlParams","res","error","renderGallery","data","galleryElement","hits","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","SimpleLightbox","showError","message","iziToast","form","gallery","input","loader","showLoader","hideLoader","event","query"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAYC,EAAQ,CAClC,MAAMC,EAAY,IAAI,gBAAgBD,CAAM,EAC5C,OAAO,MAAM,GAAGF,CAAQ,QAAQD,CAAO,IAAII,CAAS,EAAE,EACnD,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAM,sBAAsB,EAExC,OAAOA,EAAI,MACjB,CAAK,EACA,MAAMC,GAAS,CACd,MAAM,IAAI,MAAMA,EAAM,OAAO,CACnC,CAAK,CACL,CCVO,SAASC,EAAcC,EAAMC,EAAgB,CAClD,KAAM,CAAE,KAAAC,CAAM,EAAGF,EACXG,EAASD,EACZ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA,yBACaL,CAAa;AAAA,8BACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4DAGIC,CAAK;AAAA,4DACLC,CAAK;AAAA,+DACFC,CAAQ;AAAA,gEACPC,CAAS;AAAA;AAAA,gBAGpE,EACA,KAAK,EAAE,EAEVT,EAAe,UAAYE,EAEV,IAAIQ,EAAe,YAAY,EACvC,QAAO,CAClB,CAEO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CCtCA,MAAME,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,GAAa,CACpBD,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEA,SAASE,GAAa,CACpBF,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,UAAU,IAAI,QAAQ,CAC/B,CAEAH,EAAK,iBAAiB,SAAUM,GAAS,CACvCA,EAAM,eAAc,EAEpB,MAAMC,EAAQL,EAAM,MAAM,KAAI,EAC9B,GAAIK,IAAU,GAAI,CAChBV,EACE,0EACN,EACI,MACD,CAED,MAAMjB,EAAS,CACb,EAAG2B,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACEN,EAAQ,UAAY,GACpBG,IAEAzB,EAAYC,CAAM,EACf,KAAKK,GAAQ,CAEZ,GADAoB,IACIpB,EAAK,KAAK,SAAW,EAAG,CAC1BY,EACE,0EACV,EACQ,MACD,CACDb,EAAcC,EAAMgB,CAAO,CACjC,CAAK,EACA,MAAMlB,GAAS,CACdc,EAAU,+CAA+C,CAC/D,CAAK,EAEHG,EAAK,MAAK,CACZ,CAAC"}